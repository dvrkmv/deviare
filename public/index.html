<!DOCTYPE html>
<html ng-app="deviareApp">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"><!-- Optimize mobile viewport -->
	<title>Deviare URL Shortener</title>
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"><!-- load bootstrap -->
	<style>
		html { overflow-y:scroll; }
		body { padding-top:50px; }
		#redirect-list { margin-bottom:30px; }
	</style>
</head>
<body ng-controller="mainController">
	<div class="container">
		<div class="jumbotron text-center">
			<h1>Active redirects: <span class="label label-info">{{ redirects.length }}</span></h1>
		</div>
	</div>

	<div id="redirect-form" class="row">
		<div class="col-sm-8 col-sm-offset-2">
			<h2 class="col-sm-offset-2">Shorten a URL:</h2>
			<form>
				<div class="form-group row">
					<div class="col-sm-4 col-sm-offset-2">
						<input type="text" class="form-control input-lg col-sm-6" placeholder="url to shorten" ng-model="formData.longUrl">
					</div>
					<div class="col-sm-4">
						<input type="text" class="form-control input-lg col-sm-6" placeholder="short url" ng-model="formData.shortUrl">
					</div>
					<div class="col-sm-1">
						<button type="submit" class="btn btn-primary btn-lg" ng-click="createRedirect()">&nbsp;Add&nbsp;</button>
					</div>
				</div>

				<!-- createRedirect() WILL CREATE NEW Redirects -->
				
			</form>
		</div>
	</div>

	<div id="redirect-list" class="row">
		<div class="col-sm-6 col-sm-offset-4">
			<h2>Shortened URLs:</h2>
			<!-- LOOP OVER THE Redirects IN $scope.redirects -->
			<div class="checkbox" ng-repeat="redirect in redirects">
				<label>
					<input type="checkbox" ng-click="deleteRedirect(redirect._id)">  Views: {{ redirect.views }} - {{ redirect.longUrl }} - {{ redirect.shortUrl }}<br><br>
				</label>
			</div>

		</div>
	</div>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><!-- load jquery -->
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script><!-- load angular -->
	<script src="/js/core.js"></script>
</body>
</html>